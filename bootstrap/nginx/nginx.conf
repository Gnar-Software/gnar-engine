events {}

http {
    server {
        listen 80;
        server_name engine.gnar.co.uk;

        # Control service
        location /control {
            rewrite ^/control$ /control/ break;
            proxy_pass http://control-service:3000;
        }
        location /tasks {
            rewrite ^/tasks$ /tasks/ break;
            proxy_pass http://control-service:3000/tasks;
        }

        # User service
        location /authenticate {
            rewrite ^/authenticate$ /authenticate/ break;
            proxy_pass http://user-service:3000/authenticate;
        }
        location /users {
            rewrite ^/users$ /users/ break;
            proxy_pass http://user-service:3000/users;
        }

        # Agent service
        location /agent {
            rewrite ^/agent$ /agent/ break;
            proxy_pass http://agent-service:3000/agent;
        }

        # # Cart service
        # location /cart {
        #     rewrite ^/cart$ /cart/ break;
        #     proxy_pass http://cart-service:4003/cart;
        # }

        # # Contact service
        # location /contacts {
        #     rewrite ^/contacts$ /contacts/ break;
        #     proxy_pass http://contact-service:4004/contacts;
        # }

        # # Checkout service
        # location /checkout {
        #     rewrite ^/checkout$ /checkout/ break;
        #     proxy_pass http://checkout-service:4005/checkout;
        # }

        # # Order service
        # location /orders {
        #     rewrite ^/orders$ /orders/ break;
        #     proxy_pass http://order-service:4006/orders;
        # }

        # # Subscription service
        # location /subscriptions {
        #     rewrite ^/subscriptions$ /subscriptions/ break;
        #     proxy_pass http://subscription-service:4007/subscriptions;
        # }

        # # Raffle service
        # location /raffle {
        #     rewrite ^/raffle$ /raffle/ break;
        #     proxy_pass http://raffle-service:4009/raffle;
        # }

        # # Portal Service
        # location /portal {
        #     proxy_pass http://portal-service:3000/portal;
        # }

        # # Front-end Service
        # location / {
        #     proxy_pass http://front-end-service:3001;
        # }
    }
}
